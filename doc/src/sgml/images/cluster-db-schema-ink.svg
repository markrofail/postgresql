<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   version="1.1"
   width="900px"
   height="685px"
   viewBox="0 0 900 685"
   id="svg147"
   sodipodi:docname="cluster-db-schema-ink.svg"
   inkscape:version="0.92.3 (2405546, 2018-03-11)">
  <metadata
     id="metadata151">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title>Server (Hardware, Container, or VM)</dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <sodipodi:namedview
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1"
     objecttolerance="10"
     gridtolerance="10"
     guidetolerance="10"
     inkscape:pageopacity="0"
     inkscape:pageshadow="2"
     inkscape:window-width="1129"
     inkscape:window-height="922"
     id="namedview149"
     showgrid="false"
     inkscape:zoom="0.68905109"
     inkscape:cx="737.16805"
     inkscape:cy="342.1375"
     inkscape:window-x="61"
     inkscape:window-y="27"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg147" />
  <title
     id="title2">Server (Hardware, Container, or VM)</title>
  <!-- common text classes -->
  <style
     type="text/css"
     id="style4">
  .text_small   {font-style:normal;
                 font-weight:normal;
                 font-size:12px;
                 font-family:&quot;Open Sans&quot;, sans-serif;
                 fill:black;
                }
  .text_normal  {font-style:normal;
                 font-weight:normal;
                 font-size:16px;
                 font-family:&quot;Open Sans&quot;, sans-serif;
                 fill:black;
                }
  .text_big     {font-style:normal;
                 font-weight:normal;
                 font-size:24px;
                 font-family:&quot;Open Sans&quot;, sans-serif;
                 fill:black;
                }
  </style>
  <defs
     id="defs49">
    <!-- a rectangle with rounded corners and inner definitions for schemas -->
    <symbol
       id="rectangle_special_0">
      <!-- the database -->
      <rect
         width="225"
         height="155"
         rx="10"
         stroke="blue"
         fill="none"
         id="rect6" />
      <!-- schemas -->
      <rect
         x="15"
         y="40"
         width="195"
         height="50"
         rx="10"
         stroke="blue"
         fill="none"
         stroke-dasharray="4 2"
         id="rect8" />
      <text
         class="text_normal"
         x="20"
         y="60"
         id="text10">schema 'public'</text>
      <text
         class="text_small"
         x="20"
         y="80"
         id="text12">tables, views, ...</text>
      <rect
         x="15"
         y="105"
         width="195"
         height="30"
         rx="10"
         stroke="blue"
         fill="none"
         stroke-dasharray="4 2"
         id="rect14" />
      <text
         class="text_small"
         x="20"
         y="125"
         id="text16">(more system schemas)</text>
    </symbol>
    <!-- same as before, but one more schema -->
    <symbol
       id="rectangle_special_1">
      <!-- the database -->
      <rect
         width="245"
         height="225"
         rx="10"
         stroke="blue"
         fill="none"
         id="rect19" />
      <!-- schemas -->
      <rect
         x="15"
         y="40"
         width="205"
         height="50"
         rx="10"
         stroke="blue"
         fill="none"
         stroke-dasharray="4 2"
         id="rect21" />
      <text
         class="text_normal"
         x="20"
         y="60"
         id="text23">schema 'public'</text>
      <text
         class="text_small"
         x="20"
         y="80"
         id="text25">tables, views, ...</text>
      <rect
         x="15"
         y="105"
         width="205"
         height="50"
         rx="10"
         stroke="blue"
         fill="none"
         stroke-dasharray="4 2"
         id="rect27" />
      <text
         class="text_normal"
         x="20"
         y="125"
         id="text29">'my_schema' (optional)</text>
      <text
         class="text_small"
         x="20"
         y="145"
         id="text31">tables, views, ...</text>
      <rect
         x="15"
         y="170"
         width="205"
         height="30"
         rx="10"
         stroke="blue"
         fill="none"
         stroke-dasharray="4 2"
         id="rect33" />
      <text
         class="text_small"
         x="20"
         y="190"
         id="text35">(more system schemas)</text>
    </symbol>
    <symbol
       id="note"
       stroke="black"
       fill="lightyellow">
      <title
         id="title38">UML Note</title>
      <path
         d="M 450,10 v 230 h -450 v -240 h 440 v 10 h 10 l -10,-10"
         id="path40" />
    </symbol>
    <!-- marker start/end -->
    <marker
       id="arrowhead_start"
       markerWidth="10"
       markerHeight="10"
       refX="0"
       refY="3"
       orient="auto">
      <path
         d="M 6,0 l -6,3 l 6,3"
         stroke="black"
         fill="none"
         id="path43" />
    </marker>
    <marker
       id="arrowhead_end"
       markerWidth="10"
       markerHeight="10"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M 0,0 l 6,3 l -6,3"
         stroke="black"
         fill="none"
         id="path46" />
    </marker>
  </defs>
  <!-- start of rendering area -->
  <!-- enclosing rectangle -->
  <rect
     x="1"
     y="1"
     rx="5"
     width="99%"
     height="99%"
     stroke="black"
     fill="none"
     id="rect51" />
  <text
     class="text_big"
     x="270"
     y="40"
     id="text53">Server (Hardware, Container, or VM)</text>
  <!-- two clusters -->
  <g
     transform="translate(20 110)"
     id="g59">
    <rect
       x="0"
       y="0"
       width="790"
       height="555"
       stroke="blue"
       stroke-width="2px"
       fill="none"
       id="rect55" />
    <text
       class="text_normal"
       x="180"
       y="25"
       id="text57">cluster 'data' (default, managed by one instance)</text>
  </g>
  <g
     transform="translate(45 110)"
     id="g65">
    <path
       d="M 5,0 v -30 h 790 v 555 h -30"
       stroke="blue"
       stroke-width="2px"
       fill="none"
       id="path61" />
    <text
       class="text_normal"
       x="190"
       y="-10"
       id="text63">cluster 'cluster_2' (optional, managed by a different instance)</text>
  </g>
  <!-- database template 0 -->
  <g
     transform="translate(40 155)"
     id="g71">
    <use
       xlink:href="#rectangle_special_0"
       id="use67" />
    <text
       class="text_normal"
       x="10"
       y="25"
       id="text69">database 'template0'</text>
  </g>
  <!-- database template 1 -->
  <g
     transform="translate(290 155)"
     id="g77">
    <use
       xlink:href="#rectangle_special_0"
       id="use73" />
    <text
       class="text_normal"
       x="10"
       y="25"
       id="text75">database 'template1'</text>
  </g>
  <!-- database postgres -->
  <g
     transform="translate(540 155)"
     id="g83">
    <use
       xlink:href="#rectangle_special_1"
       id="use79" />
    <text
       class="text_normal"
       x="10"
       y="25"
       id="text81">database 'postgres'</text>
  </g>
  <!-- database my_db -->
  <g
     transform="translate(40 350)"
     id="g89">
    <use
       xlink:href="#rectangle_special_1"
       id="use85" />
    <text
       class="text_normal"
       x="10"
       y="25"
       id="text87">database 'my_db' (optional)</text>
  </g>
  <!-- global objects -->
  <g
     transform="translate(320 330)"
     id="g103">
    <rect
       x="0"
       y="0"
       width="180"
       height="45"
       rx="10"
       stroke="blue"
       fill="none"
       stroke-dasharray="10 4 4 4"
       id="rect91" />
    <text
       class="text_normal"
       x="15"
       y="27"
       id="text93">Global SQL objects</text>
    <path
       d="M 0,5 l-65,-35"
       stroke="black"
       fill="none"
       marker-end="url(#arrowhead_end)"
       id="path95" />
    <path
       d="M 80,0 v-30"
       stroke="black"
       fill="none"
       marker-end="url(#arrowhead_end)"
       id="path97" />
    <path
       d="M 180,40 h50"
       stroke="black"
       fill="none"
       marker-end="url(#arrowhead_end)"
       id="path99" />
    <path
       d="M 0,40 l-45,20"
       stroke="black"
       fill="none"
       marker-end="url(#arrowhead_end)"
       id="path101" />
  </g>
  <!-- Some comments -->
  <g
     transform="translate(335 405)"
     id="g145">
    <use
       xlink:href="#note"
       x="0"
       y="0"
       id="use105" />
    <text
       class="text_small"
       x="10"
       y="20"
       id="text107">1)</text>
    <text
       class="text_small"
       x="30"
       y="20"
       id="text109">By default, you work in the cluster 'data', database 'postgres',</text>
    <text
       class="text_small"
       x="30"
       y="35"
       id="text111">schema 'public'.</text>
    <text
       class="text_small"
       x="10"
       y="55"
       id="text113">2)</text>
    <text
       class="text_small"
       x="30"
       y="55"
       id="text115">More system schemas: pg_catalog, information_schema,</text>
    <text
       class="text_small"
       x="30"
       y="70"
       id="text117">pg_temp, pg_toast.</text>
    <text
       class="text_small"
       x="10"
       y="90"
       id="text119">3)</text>
    <text
       class="text_small"
       x="30"
       y="90"
       id="text121">Global SQL objects: Some SQL objects are automatically active</text>
    <text
       class="text_small"
       x="30"
       y="105"
       id="text123">and known database- or even cluster-wide.</text>
    <text
       class="text_small"
       x="10"
       y="125"
       id="text125">4)</text>
    <text
       class="text_small"
       x="30"
       y="125"
       id="text127">The command 'initdb' creates a new cluster with the three</text>
    <text
       class="text_small"
       x="30"
       y="140"
       id="text129">databases 'template0', 'template1', and 'postgres'. The command</text>
    <text
       class="text_small"
       x="30"
       y="155"
       id="text131">'createdb' creates a new database.</text>
    <text
       class="text_small"
       x="10"
       y="175"
       id="text133">5)</text>
    <text
       class="text_small"
       x="30"
       y="175"
       id="text135">If multiple clusters are active on one server at the same time,</text>
    <text
       class="text_small"
       x="30"
       y="190"
       id="text137">each one is managed by an individual instance. Each such instance</text>
    <text
       class="text_small"
       x="30"
       y="205"
       id="text139">uses a different port.</text>
    <text
       class="text_small"
       x="10"
       y="225"
       id="text141">6)</text>
    <text
       class="text_small"
       x="30"
       y="225"
       id="text143">No client application is allowed to connect to 'template0'.</text>
  </g>
</svg>
