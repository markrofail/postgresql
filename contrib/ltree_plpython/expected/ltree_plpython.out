CREATE EXTENSION ltree_plpython2u CASCADE;
NOTICE:  installing required extension "plpython2u"
CREATE FUNCTION test1(val ltree) RETURNS int
LANGUAGE plpythonu
TRANSFORM FOR TYPE ltree
AS $$
plpy.info(repr(val))
return len(val)
$$;
SELECT test1('aa.bb.cc'::ltree);
INFO:  ['aa', 'bb', 'cc']
 test1 
-------
     3
(1 row)

CREATE FUNCTION test1n(val ltree) RETURNS int
LANGUAGE plpython2u
TRANSFORM FOR TYPE ltree
AS $$
plpy.info(repr(val))
return len(val)
$$;
SELECT test1n('aa.bb.cc'::ltree);
INFO:  ['aa', 'bb', 'cc']
 test1n 
--------
      3
(1 row)

